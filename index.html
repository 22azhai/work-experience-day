<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alexa Marketing Playground</title>
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
      :root {
        font-family: 'Press Start 2P', Arial, Helvetica, sans-serif;
      }
      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
        color: #fff;
        overflow: hidden;
      }
      #starfield {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 0;
      }
      .alexa-corner {
        position: fixed;
        width: min(32vw, 300px);
        height: auto;
        filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.25));
        /* Remove top/right/left/bottom for JS control */
      }
      .card {
        text-align: center;
        background: rgba(0, 0, 0, 0.35);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 16px;
        padding: 2rem;
        width: min(90vw, 700px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
      }
      h1 {
        margin-top: 0;
        font-size: clamp(1.8rem, 4vw, 3rem);
      }
      p {
        margin-bottom: 0;
        opacity: 0.9;
      }
      ul {
        text-align: left;
        margin: 1rem auto 0;
        width: fit-content;
      }
      button {
        margin-top: 1rem;
        border: 0;
        border-radius: 10px;
        padding: 0.7rem 1rem;
        font-size: 1rem;
        font-weight: 700;
        color: #ffffff;
        background: #232f3e;
        cursor: pointer;
      }
      button:hover {
        animation: alexaButtonPulse 1.2s linear infinite;
        filter: none;
      }

      @keyframes alexaButtonPulse {
        0% {
          background: #00aaff;
          color: #fff;
        }
        50% {
          background: #232f3e;
          color: #00aaff;
        }
        100% {
          background: #00aaff;
          color: #fff;
        }
      }
      #facts-list {
        display: none;
        margin-top: 1rem;
      }
      #facts-list.show {
        display: block;
      }
      @media (max-width: 640px) {
        .alexa-corner {
          width: 84px;
          top: 8px;
          right: 8px;
        }
      }
    </style>
  </head>
  <body>
    <canvas id="starfield"></canvas>
    <img
      id="alexa-dvd"
      class="alexa-corner"
      src="images/Alexa-Echo-Transparent-Image.png"
      alt="Amazon Alexa Echo device"
      style="position:fixed; left:50px; top:50px; z-index:10;"
    />
    <main class="card" style="display:none;"></main>
    <div id="falling-buttons-container"></div>
    <img id="alexa-shooter" src="images/Alexa-Echo-Transparent-Image.png" alt="Alexa Shooter" style="position:fixed; left:50vw; bottom:10px; width:120px; height:auto; z-index:2000; pointer-events:none;" />
      <ul id="facts-list">
        <li>Alexa can set timers, alarms, and reminders with simple voice commands.</li>
        <li>It can control many smart-home devices like lights, plugs, and thermostats.</li>
        <li>You can create custom voice commands with Alexa Routines.</li>
        <li>Alexa can play music, podcasts, audiobooks, and radio stations.</li>
        <li>Developers can build voice apps for Alexa called Skills.</li>
      </ul>
      <p id="build-time"></p>
    </main>
    <script>
      // --- Space Starfield Background ---
      const starCanvas = document.getElementById('starfield');
      const ctx = starCanvas.getContext('2d');
      let stars = [];
      function resizeStarfield() {
        starCanvas.width = window.innerWidth;
        starCanvas.height = window.innerHeight;
        stars = [];
        for (let i = 0; i < 120; i++) {
          stars.push({
            x: Math.random() * starCanvas.width,
            y: Math.random() * starCanvas.height,
            r: Math.random() * 1.2 + 0.3,
            o: Math.random() * 0.5 + 0.5,
            tw: Math.random() * Math.PI * 2
          });
        }
      }
      function drawStarfield() {
        ctx.clearRect(0, 0, starCanvas.width, starCanvas.height);
        for (const s of stars) {
          ctx.save();
          ctx.globalAlpha = s.o * (0.7 + 0.3 * Math.sin(Date.now()/600 + s.tw));
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.r, 0, 2 * Math.PI);
          ctx.fillStyle = '#fff';
          ctx.shadowColor = '#fff';
          ctx.shadowBlur = 8;
          ctx.fill();
          ctx.restore();
        }
        requestAnimationFrame(drawStarfield);
      }
      resizeStarfield();
      drawStarfield();
      window.addEventListener('resize', resizeStarfield);
      // --- Spaceship Follows Mouse ---
      const spaceship = document.getElementById('spaceship');
      // Use a simple SVG if spaceship.png does not exist
      spaceship.onerror = function() {
        spaceship.src = 'data:image/svg+xml;utf8,<svg width="80" height="40" xmlns="http://www.w3.org/2000/svg"><polygon points="40,0 80,40 0,40" fill="%2300aaff" stroke="%23232f3e" stroke-width="4"/></svg>';
      };
      spaceship.style.display = 'block';
      document.addEventListener('mousemove', (e) => {
        const x = e.clientX - spaceship.offsetWidth / 2;
        spaceship.style.left = x + 'px';
      });
      // --- Space Invaders Falling Buttons ---
      const facts = [
        "Alexa can set timers, alarms, and reminders with simple voice commands.",
        "It can control many smart-home devices like lights, plugs, and thermostats.",
        "You can create custom voice commands with Alexa Routines.",
        "Alexa can play music, podcasts, audiobooks, and radio stations.",
        "Developers can build voice apps for Alexa called Skills."
      ];
      const fallingButtonsContainer = document.getElementById('falling-buttons-container');
      fallingButtonsContainer.style.position = 'fixed';
      fallingButtonsContainer.style.left = '0';
      fallingButtonsContainer.style.top = '0';
      fallingButtonsContainer.style.width = '100vw';
      fallingButtonsContainer.style.height = '100vh';
      fallingButtonsContainer.style.pointerEvents = 'none';
      fallingButtonsContainer.style.zIndex = 1000;
      // Create multiple falling buttons
      const NUM_BUTTONS = 7;
      const fallingButtons = [];
      function createFallingButton() {
        const btn = document.createElement('button');
        btn.textContent = 'Click Me!';
        btn.style.position = 'absolute';
        btn.style.left = (Math.random() * (window.innerWidth - 120)) + 'px';
        btn.style.top = (-Math.random() * 200) + 'px';
        btn.style.pointerEvents = 'auto';
        btn.style.transition = 'background 0.3s, color 0.3s, transform 0.2s, opacity 0.2s';
        btn.className = 'falling-invader';
        fallingButtonsContainer.appendChild(btn);
        const obj = {el: btn, vy: 1.2 + Math.random() * 1.8};
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          btn.disabled = true;
          btn.style.transform = 'scale(1.5) rotate(20deg)';
          btn.style.opacity = '0';
          setTimeout(() => btn.remove(), 200);
          setTimeout(() => {
            alert(facts[Math.floor(Math.random() * facts.length)]);
            // Respawn a new button
            createFallingButton();
          }, 220);
        });
        fallingButtons.push(obj);
      }
      for (let i = 0; i < NUM_BUTTONS; i++) createFallingButton();
      function animateFallingButtons() {
        for (const obj of fallingButtons) {
          if (!obj.el.parentNode) continue;
          let top = parseFloat(obj.el.style.top);
          top += obj.vy;
          if (top > window.innerHeight) {
            top = -60;
            obj.el.style.left = (Math.random() * (window.innerWidth - 120)) + 'px';
          }
          obj.el.style.top = top + 'px';
        }
        requestAnimationFrame(animateFallingButtons);
      }
      // Start the animation after DOM is ready
      window.addEventListener('DOMContentLoaded', animateFallingButtons);
      // --- Alexa Shooter (bottom center) fires laser projectiles ---
      const alexaShooter = document.getElementById('alexa-shooter');
      function getShooterX() {
        return alexaShooter.offsetLeft + alexaShooter.offsetWidth / 2;
      }
      function getShooterY() {
        return window.innerHeight - alexaShooter.offsetHeight / 2 - 10;
      }
      // Make shooter follow mouse X at bottom
      function moveShooterToMouse(e) {
        const x = e.clientX - alexaShooter.offsetWidth / 2;
        alexaShooter.style.left = x + 'px';
      }
      document.addEventListener('mousemove', moveShooterToMouse);
      // On resize, keep shooter at last mouse X or center
      let lastMouseX = window.innerWidth / 2;
      document.addEventListener('mousemove', (e) => { lastMouseX = e.clientX; });
      window.addEventListener('resize', () => {
        alexaShooter.style.left = (lastMouseX - alexaShooter.offsetWidth / 2) + 'px';
      });
      // Initialize shooter position
      if (alexaShooter.complete) {
        alexaShooter.style.left = (window.innerWidth / 2 - alexaShooter.offsetWidth / 2) + 'px';
      } else {
        alexaShooter.onload = () => {
          alexaShooter.style.left = (window.innerWidth / 2 - alexaShooter.offsetWidth / 2) + 'px';
        };
      }
      // Shoot laser on mouse click
      document.addEventListener('mousedown', (e) => {
        if (e.target.tagName === 'BUTTON') return;
        const laser = document.createElement('div');
        laser.style.position = 'fixed';
        laser.style.width = '6px';
        laser.style.height = '40px';
        laser.style.background = 'linear-gradient(180deg, #00f6ff 0%, #0050ff 100%)';
        laser.style.boxShadow = '0 0 16px 4px #00f6ff88';
        laser.style.borderRadius = '3px';
        laser.style.left = (getShooterX() - 3) + 'px';
        laser.style.top = (getShooterY() - 40) + 'px';
        laser.style.zIndex = 3000;
        laser.style.pointerEvents = 'none';
        document.body.appendChild(laser);
        // Animate straight up
        let y = getShooterY() - 40;
        function animateLaser() {
          y -= 12;
          if (y < -40) {
            laser.remove();
            return;
          }
          laser.style.top = y + 'px';
          requestAnimationFrame(animateLaser);
        }
        animateLaser();
      });

      // Build time
      const now = new Date();
      document.getElementById("build-time").textContent =
        `Loaded at ${now.toLocaleString()}`;

      // Fun facts toggle
      const factsToggle = document.getElementById("facts-toggle");
      const factsList = document.getElementById("facts-list");
      factsToggle.addEventListener("click", () => {
        factsList.classList.toggle("show");
        factsToggle.textContent = factsList.classList.contains("show")
          ? "Hide fun facts"
          : "Show 5 fun facts about Alexa";
      });

      // Alexa DVD bounce
      const alexaImg = document.getElementById("alexa-dvd");
      let dvdX = 100;
      let dvdY = 100;
      let dvdDX = 3;
      let dvdDY = 2.5;
      function imgWidth() { return alexaImg.offsetWidth; }
      function imgHeight() { return alexaImg.offsetHeight; }

      function initAlexaPosition() {
        dvdX = Math.random() * (window.innerWidth - imgWidth());
        dvdY = Math.random() * (window.innerHeight - imgHeight());
        alexaImg.style.left = dvdX + "px";
        alexaImg.style.top = dvdY + "px";
      }
      if (alexaImg.complete) {
        initAlexaPosition();
      } else {
        alexaImg.onload = initAlexaPosition;
      }

      function moveAlexa() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        dvdX += dvdDX;
        dvdY += dvdDY;
        if (dvdX <= 0) {
          dvdX = 0;
          dvdDX = Math.abs(dvdDX);
        } else if (dvdX + imgWidth() >= w) {
          dvdX = w - imgWidth();
          dvdDX = -Math.abs(dvdDX);
        }
        if (dvdY <= 0) {
          dvdY = 0;
          dvdDY = Math.abs(dvdDY);
        } else if (dvdY + imgHeight() >= h) {
          dvdY = h - imgHeight();
          dvdDY = -Math.abs(dvdDY);
        }
        alexaImg.style.left = dvdX + "px";
        alexaImg.style.top = dvdY + "px";
      }
      setInterval(moveAlexa, 16);
      window.addEventListener("resize", () => {
        dvdX = Math.min(dvdX, window.innerWidth - imgWidth());
        dvdY = Math.min(dvdY, window.innerHeight - imgHeight());
        alexaImg.style.left = dvdX + "px";
        alexaImg.style.top = dvdY + "px";
      });
    </script>
  </body>
</html>
